<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bangalore Home Price Predictor - AI Powered Property Valuation</title>
    <meta name="description" content="Get accurate home price predictions for Bangalore properties using advanced machine learning algorithms">

    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        /* Reset and Base Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

:root {
    --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    --secondary-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
    --success-gradient: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
    --danger-gradient: linear-gradient(135deg, #ff416c 0%, #ff4b2b 100%);
    --dark-gradient: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
    
    --text-primary: #2d3748;
    --text-secondary: #4a5568;
    --text-muted: #718096;
    --border-light: #e2e8f0;
    --bg-white: #ffffff;
    --bg-gray: #f7fafc;
    --bg-light: #edf2f7;
    
    --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
    
    --border-radius: 16px;
    --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

html {
    scroll-behavior: smooth;
    font-size: 16px;
}

body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    line-height: 1.6;
    color: var(--text-primary);
    background: var(--bg-gray);
    overflow-x: hidden;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
}

/* Navigation */
.navbar {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(20px);
    border-bottom: 1px solid var(--border-light);
    z-index: 1000;
    transition: var(--transition);
}

.nav-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    height: 70px;
}

.nav-brand {
    display: flex;
    align-items: center;
    gap: 12px;
    font-weight: 800;
    font-size: 1.25rem;
    color: var(--text-primary);
}

.nav-brand i {
    font-size: 1.5rem;
    background: var(--primary-gradient);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.nav-links {
    display: flex;
    gap: 32px;
}

.nav-link {
    text-decoration: none;
    color: var(--text-secondary);
    font-weight: 500;
    transition: var(--transition);
    position: relative;
}

.nav-link::after {
    content: '';
    position: absolute;
    bottom: -5px;
    left: 0;
    width: 0;
    height: 2px;
    background: var(--primary-gradient);
    transition: width 0.3s ease;
}

.nav-link:hover::after {
    width: 100%;
}

.nav-toggle {
    display: none;
    flex-direction: column;
    cursor: pointer;
    gap: 4px;
}

.nav-toggle span {
    width: 25px;
    height: 3px;
    background: var(--text-primary);
    transition: var(--transition);
}

/* Hero Section */
.hero-section {
    position: relative;
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    overflow: hidden;
    padding: 100px 20px 50px;
}

.hero-background {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    opacity: 0.1;
}

.hero-particle {
    position: absolute;
    width: 300px;
    height: 300px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.1);
    animation: float 6s ease-in-out infinite;
}

.hero-particle:nth-child(1) {
    top: 20%;
    left: 10%;
    animation-delay: 0s;
}

.hero-particle:nth-child(2) {
    top: 60%;
    right: 10%;
    animation-delay: 2s;
}

.hero-particle:nth-child(3) {
    bottom: 20%;
    left: 50%;
    animation-delay: 4s;
}

@keyframes float {
    0%, 100% { transform: translateY(0px) rotate(0deg); }
    50% { transform: translateY(-20px) rotate(180deg); }
}

.hero-content {
    text-align: center;
    color: white;
    z-index: 2;
    position: relative;
    max-width: 800px;
}

.hero-title {
    font-size: 3.5rem;
    font-weight: 800;
    margin-bottom: 24px;
    line-height: 1.2;
}

.gradient-text {
    background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.hero-subtitle {
    font-size: 1.25rem;
    font-weight: 400;
    margin-bottom: 40px;
    opacity: 0.9;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
}

.hero-features {
    display: flex;
    justify-content: center;
    gap: 40px;
    margin-bottom: 40px;
    flex-wrap: wrap;
}

.feature-item {
    display: flex;
    align-items: center;
    gap: 12px;
    font-weight: 500;
    opacity: 0.9;
}

.feature-item i {
    font-size: 1.25rem;
}

.cta-button {
    display: inline-flex;
    align-items: center;
    gap: 12px;
    background: rgba(255, 255, 255, 0.2);
    color: white;
    text-decoration: none;
    padding: 18px 32px;
    border-radius: var(--border-radius);
    font-weight: 600;
    font-size: 1.1rem;
    transition: var(--transition);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.3);
}

.cta-button:hover {
    background: rgba(255, 255, 255, 0.3);
    transform: translateY(-2px);
}

/* Section Styles */
.section-header {
    text-align: center;
    margin-bottom: 60px;
}

.section-header h2 {
    font-size: 2.5rem;
    font-weight: 700;
    margin-bottom: 16px;
    color: var(--text-primary);
}

.section-divider {
    width: 80px;
    height: 4px;
    background: var(--primary-gradient);
    margin: 0 auto;
    border-radius: 2px;
}

/* About Section */
.about-section {
    padding: 100px 0;
    background: var(--bg-white);
}

.about-content {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 60px;
    align-items: center;
}

.about-text h3 {
    font-size: 2rem;
    font-weight: 600;
    margin-bottom: 24px;
    color: var(--text-primary);
}

.about-text p {
    font-size: 1.1rem;
    line-height: 1.8;
    color: var(--text-secondary);
    margin-bottom: 32px;
}

.tech-stack {
    margin-bottom: 32px;
}

.tech-stack h4 {
    font-size: 1.25rem;
    font-weight: 600;
    margin-bottom: 16px;
    color: var(--text-primary);
}

.tech-items {
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
}

.tech-tag {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    background: var(--bg-light);
    padding: 8px 16px;
    border-radius: 25px;
    font-size: 0.9rem;
    font-weight: 500;
    color: var(--text-secondary);
    border: 1px solid var(--border-light);
}

.model-features h4 {
    font-size: 1.25rem;
    font-weight: 600;
    margin-bottom: 16px;
    color: var(--text-primary);
}

.model-features ul {
    list-style: none;
}

.model-features li {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 12px;
    font-size: 1rem;
    color: var(--text-secondary);
}

.model-features i {
    color: #10b981;
}

.stats-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
}

.stat-card {
    background: var(--bg-white);
    padding: 32px 24px;
    border-radius: var(--border-radius);
    text-align: center;
    box-shadow: var(--shadow-lg);
    border: 1px solid var(--border-light);
    transition: var(--transition);
}

.stat-card:hover {
    transform: translateY(-5px);
    box-shadow: var(--shadow-xl);
}

.stat-icon {
    margin-bottom: 16px;
}

.stat-icon i {
    font-size: 2rem;
    background: var(--primary-gradient);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.stat-number {
    font-size: 2rem;
    font-weight: 800;
    color: var(--text-primary);
    margin-bottom: 8px;
}

.stat-label {
    font-size: 0.9rem;
    color: var(--text-muted);
    font-weight: 500;
}

/* Predictor Section */
.predictor-section {
    padding: 100px 0;
    background: var(--bg-gray);
}

.predictor-container {
    max-width: 900px;
    margin: 0 auto;
    background: var(--bg-white);
    border-radius: 24px;
    box-shadow: var(--shadow-xl);
    overflow: hidden;
}

.predictor-header {
    background: var(--secondary-gradient);
    padding: 50px 40px;
    text-align: center;
    color: white;
}

.predictor-header h2 {
    font-size: 2.5rem;
    font-weight: 700;
    margin-bottom: 12px;
}

.predictor-header p {
    font-size: 1.1rem;
    opacity: 0.9;
}

.predictor-content {
    padding: 40px;
}

/* API Status */
.api-status {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 16px 20px;
    border-radius: 12px;
    margin-bottom: 32px;
    font-weight: 500;
}

.api-status.connected {
    background: #d1fae5;
    color: #065f46;
    border: 1px solid #a7f3d0;
}

.api-status.disconnected {
    background: #fee2e2;
    color: #991b1b;
    border: 1px solid #fecaca;
}

.api-status i {
    font-size: 0.875rem;
}

/* Form Styles */
.prediction-form {
    background: var(--bg-gray);
    padding: 32px;
    border-radius: var(--border-radius);
    border: 1px solid var(--border-light);
}

.form-section h3 {
    font-size: 1.5rem;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 24px;
    display: flex;
    align-items: center;
    gap: 12px;
}

.form-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 24px;
    margin-bottom: 32px;
}

.form-group {
    position: relative;
}

.form-group label {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 8px;
    font-weight: 600;
    color: var(--text-primary);
    font-size: 0.95rem;
}

.form-group label i {
    color: var(--text-muted);
    font-size: 0.9rem;
}

.form-group input,
.form-group select {
    width: 100%;
    padding: 16px 18px;
    border: 2px solid var(--border-light);
    border-radius: 12px;
    font-size: 1rem;
    font-family: inherit;
    transition: var(--transition);
    background: var(--bg-white);
    color: var(--text-primary);
}

.form-group input:focus,
.form-group select:focus {
    outline: none;
    border-color: #4facfe;
    box-shadow: 0 0 0 3px rgba(79, 172, 254, 0.1);
    transform: translateY(-1px);
}

.select-wrapper {
    position: relative;
}

.select-wrapper i {
    position: absolute;
    right: 16px;
    top: 50%;
    transform: translateY(-50%);
    color: var(--text-muted);
    pointer-events: none;
    font-size: 0.875rem;
}

.form-help {
    font-size: 0.875rem;
    color: var(--text-muted);
    margin-top: 6px;
    display: block;
}

.predict-btn {
    width: 100%;
    padding: 20px;
    background: var(--primary-gradient);
    color: white;
    border: none;
    border-radius: 16px;
    font-size: 1.2rem;
    font-weight: 600;
    cursor: pointer;
    transition: var(--transition);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
    position: relative;
    overflow: hidden;
}

.predict-btn:hover:not(:disabled) {
    transform: translateY(-3px);
    box-shadow: 0 20px 40px rgba(102, 126, 234, 0.4);
}

.predict-btn:active {
    transform: translateY(-1px);
}

.predict-btn:disabled {
    opacity: 0.7;
    cursor: not-allowed;
    transform: none;
}

.btn-overlay {
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
    transition: left 0.5s;
}

.predict-btn:hover .btn-overlay {
    left: 100%;
}

/* Error Container */
.error-container {
    display: none;
    background: #fef2f2;
    border: 1px solid #fecaca;
    border-radius: 12px;
    padding: 20px;
    margin: 24px 0;
    color: #dc2626;
}

.error-container.show {
    display: flex;
    align-items: flex-start;
    gap: 16px;
    animation: slideIn 0.3s ease;
}

.error-container i {
    font-size: 1.25rem;
    margin-top: 2px;
    flex-shrink: 0;
}

/* Result Container */
.result-container {
    display: none;
    background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
    border: 1px solid #bae6fd;
    border-radius: var(--border-radius);
    padding: 32px;
    margin-top: 32px;
    position: relative;
    overflow: hidden;
}

.result-container::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: var(--success-gradient);
}

.result-container.show {
    display: block;
    animation: slideInUp 0.5s ease;
}

.result-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 24px;
}

.result-header h3 {
    font-size: 1.5rem;
    font-weight: 600;
    color: var(--text-primary);
}

.confidence-badge {
    display: flex;
    align-items: center;
    gap: 8px;
    background: #dcfce7;
    color: #166534;
    padding: 8px 16px;
    border-radius: 25px;
    font-size: 0.875rem;
    font-weight: 500;
    border: 1px solid #bbf7d0;
}

.result-price {
    text-align: center;
    margin-bottom: 32px;
}

.result-price .currency {
    font-size: 2rem;
    font-weight: 600;
    color: var(--text-secondary);
    vertical-align: top;
}

.result-price #predicted-price {
    font-size: 3.5rem;
    font-weight: 800;
    color: var(--text-primary);
    margin: 0 8px;
}

.result-price .unit {
    font-size: 1.5rem;
    font-weight: 600;
    color: var(--text-secondary);
    vertical-align: bottom;
}

.result-details {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
    margin-bottom: 32px;
}

.detail-item {
    display: flex;
    align-items: center;
    gap: 16px;
    background: rgba(255, 255, 255, 0.7);
    padding: 20px;
    border-radius: 12px;
    border: 1px solid rgba(255, 255, 255, 0.8);
}

.detail-item i {
    font-size: 1.25rem;
    color: #0ea5e9;
    background: rgba(14, 165, 233, 0.1);
    padding: 12px;
    border-radius: 10px;
    flex-shrink: 0;
}

.detail-item div label {
    font-size: 0.875rem;
    font-weight: 500;
    color: var(--text-muted);
    display: block;
    margin-bottom: 4px;
}

.detail-item div span {
    font-size: 1rem;
    font-weight: 600;
    color: var(--text-primary);
}

.result-actions {
    display: flex;
    gap: 16px;
    justify-content: center;
}

.action-btn {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 12px 24px;
    border-radius: 10px;
    font-weight: 500;
    cursor: pointer;
    transition: var(--transition);
    text-decoration: none;
    border: none;
    font-family: inherit;
}

.action-btn.primary {
    background: var(--primary-gradient);
    color: white;
}

.action-btn.secondary {
    background: var(--bg-white);
    color: var(--text-secondary);
    border: 1px solid var(--border-light);
}

.action-btn:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
}

/* Contact Section */
.contact-section {
    padding: 100px 0;
    background: var(--bg-white);
}

.contact-content {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 60px;
    align-items: center;
}

.contact-info h3 {
    font-size: 2rem;
    font-weight: 600;
    margin-bottom: 16px;
    color: var(--text-primary);
}

.contact-info p {
    font-size: 1.1rem;
    color: var(--text-secondary);
    margin-bottom: 16px;
    line-height: 1.6;
}

.contact-links {
    display: flex;
    flex-direction: column;
    gap: 16px;
    margin-top: 32px;
}

.contact-link {
    display: flex;
    align-items: center;
    gap: 16px;
    padding: 16px 24px;
    background: var(--bg-gray);
    border-radius: 12px;
    text-decoration: none;
    color: var(--text-primary);
    font-weight: 500;
    transition: var(--transition);
    border: 1px solid var(--border-light);
}

.contact-link:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
}

.contact-link.portfolio {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border: none;
}

.contact-link.github {
    background: #24292e;
    color: white;
    border: none;
}

.contact-link.linkedin {
    background: #0077b5;
    color: white;
    border: none;
}

.contact-link i {
    font-size: 1.25rem;
}

/* Tech Orbit Animation */
.tech-orbit {
    position: relative;
    width: 300px;
    height: 300px;
    margin: 0 auto;
}

.orbit-center {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 80px;
    height: 80px;
    background: var(--primary-gradient);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 2rem;
}

.orbit-item {
    position: absolute;
    width: 60px;
    height: 60px;
    background: var(--bg-white);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    color: var(--text-primary);
    box-shadow: var(--shadow-lg);
    border: 2px solid var(--border-light);
    animation: orbit 8s linear infinite;
    animation-delay: var(--delay);
}

.orbit-item:nth-child(2) {
    top: 0;
    left: 50%;
    transform: translateX(-50%);
}

.orbit-item:nth-child(3) {
    top: 50%;
    right: 0;
    transform: translateY(-50%);
}

.orbit-item:nth-child(4) {
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
}

.orbit-item:nth-child(5) {
    top: 50%;
    left: 0;
    transform: translateY(-50%);
}

@keyframes orbit {
    from {
        transform: rotate(0deg) translateX(120px) rotate(0deg);
    }
    to {
        transform: rotate(360deg) translateX(120px) rotate(-360deg);
    }
}

/* Footer */
.footer {
    background: var(--text-primary);
    color: white;
    padding: 50px 0 30px;
}

.footer-content {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 40px;
    margin-bottom: 30px;
}

.footer-section h4 {
    font-size: 1.25rem;
    font-weight: 600;
    margin-bottom: 16px;
}

.footer-section p {
    color: rgba(255, 255, 255, 0.8);
    line-height: 1.6;
}

.footer-bottom {
    text-align: center;
    padding-top: 30px;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    color: rgba(255, 255, 255, 0.6);
}

/* Loading Overlay */
.loading-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 9999;
    backdrop-filter: blur(5px);
}

.loading-content {
    text-align: center;
    color: white;
}

.loading-spinner {
    width: 60px;
    height: 60px;
    border: 4px solid rgba(255, 255, 255, 0.2);
    border-top: 4px solid #4facfe;
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin: 0 auto 20px;
}

.loading-content p {
    font-size: 1.1rem;
    font-weight: 500;
    opacity: 0.9;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes slideInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Responsive Design */
@media (max-width: 768px) {
    .nav-links {
        display: none;
    }
    
    .nav-toggle {
        display: flex;
    }
    
    .hero-title {
        font-size: 2.5rem;
    }
    
    .hero-features {
        flex-direction: column;
        gap: 20px;
    }
    
    .about-content,
    .contact-content {
        grid-template-columns: 1fr;
        gap: 40px;
    }
    
    .stats-grid {
        grid-template-columns: 1fr;
    }
    
    .form-grid {
        grid-template-columns: 1fr;
        gap: 20px;
    }
    
    .result-details {
        grid-template-columns: 1fr;
    }
    
    .result-actions {
        flex-direction: column;
    }
    
    .predictor-header,
    .predictor-content {
        padding: 30px 20px;
    }
    
    .section-header h2 {
        font-size: 2rem;
    }
    
    .result-price #predicted-price {
        font-size: 2.5rem;
    }
    
    .tech-orbit {
        width: 250px;
        height: 250px;
    }
    
    .orbit-item {
        animation: none;
        position: static;
        margin: 10px;
        display: inline-flex;
    }
    
    .contact-links {
        gap: 12px;
    }
}

@media (max-width: 480px) {
    .container {
        padding: 0 15px;
    }
    
    .hero-section {
        padding: 80px 15px 30px;
    }
    
    .hero-title {
        font-size: 2rem;
    }
    
    .predictor-header h2 {
        font-size: 2rem;
    }
    
    .form-grid {
        gap: 16px;
    }
    
    .prediction-form {
        padding: 20px;
    }
}
    </style>
</head>
<body>
    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <p>Analyzing property data...</p>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <i class="fas fa-home"></i>
                <span>BangaloreHomePricer</span>
            </div>
            <div class="nav-links">
                <a href="#about" class="nav-link">About</a>
                <a href="#predictor" class="nav-link">Predictor</a>
                <a href="#contact" class="nav-link">Contact</a>
            </div>
            <div class="nav-toggle" id="navToggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="hero-background">
            <div class="hero-particle"></div>
            <div class="hero-particle"></div>
            <div class="hero-particle"></div>
        </div>
        <div class="hero-content">
            <h1 class="hero-title">
                <span class="gradient-text">AI-Powered</span><br>
                Bangalore Home Price Predictor
            </h1>
            <p class="hero-subtitle">
                Get instant, accurate property valuations using advanced machine learning algorithms trained on real Bangalore real estate data
            </p>
            <div class="hero-features">
                <div class="feature-item">
                    <i class="fas fa-brain"></i>
                    <span>Machine Learning</span>
                </div>
                <div class="feature-item">
                    <i class="fas fa-chart-line"></i>
                    <span>Real-time Analysis</span>
                </div>
                <div class="feature-item">
                    <i class="fas fa-map-marker-alt"></i>
                    <span>Location Intelligence</span>
                </div>
            </div>
            <a href="#predictor" class="cta-button">
                <span>Start Prediction</span>
                <i class="fas fa-arrow-right"></i>
            </a>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="about-section">
        <div class="container">
            <div class="section-header">
                <h2>About This Project</h2>
                <div class="section-divider"></div>
            </div>
            <div class="about-content">
                <div class="about-text">
                    <h3>Revolutionizing Property Valuation</h3>
                    <p>
                        This intelligent home price predictor leverages cutting-edge machine learning algorithms to provide accurate property valuations across Bangalore. Built with a robust Flask backend and an intuitive frontend, the system analyzes multiple factors including location desirability, property size, configuration, and market trends.
                    </p>
                    <div class="tech-stack">
                        <h4>Technology Stack</h4>
                        <div class="tech-items">
                            <span class="tech-tag"><i class="fab fa-python"></i> Python/Flask</span>
                            <span class="tech-tag"><i class="fas fa-robot"></i> Scikit-learn</span>
                            <span class="tech-tag"><i class="fab fa-js"></i> JavaScript</span>
                            <span class="tech-tag"><i class="fab fa-html5"></i> HTML5/CSS3</span>
                        </div>
                    </div>
                    <div class="model-features">
                        <h4>Model Features</h4>
                        <ul>
                            <li><i class="fas fa-check"></i> Multi-factor analysis (location, size, amenities)</li>
                            <li><i class="fas fa-check"></i> Real-time price predictions</li>
                            <li><i class="fas fa-check"></i> Location-based market intelligence</li>
                            <li><i class="fas fa-check"></i> Price per square foot calculations</li>
                        </ul>
                    </div>
                </div>
                <div class="about-visual">
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-database"></i>
                            </div>
                            <div class="stat-number">5000+</div>
                            <div class="stat-label">Properties Analyzed</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-bullseye"></i>
                            </div>
                            <div class="stat-number">92%</div>
                            <div class="stat-label">Accuracy Rate</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-map"></i>
                            </div>
                            <div class="stat-number">50+</div>
                            <div class="stat-label">Locations Covered</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-clock"></i>
                            </div>
                            <div class="stat-number">&lt;2s</div>
                            <div class="stat-label">Prediction Time</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Main Container -->
    <section id="predictor" class="predictor-section">
        <div class="container">
            <div class="predictor-container">
                <div class="predictor-header">
                    <h2>🏠 Property Price Predictor</h2>
                    <p>Enter your property details below to get an instant AI-powered price estimation</p>
                </div>

                <div class="predictor-content">
                    <!-- API Status -->
                    <div id="apiStatus" class="api-status disconnected">
                        <i class="fas fa-circle"></i>
                        <span>Checking API connection...</span>
                    </div>

                    <!-- Prediction Form -->
                    <form id="priceForm" class="prediction-form">
                        <div class="form-section">
                            <h3>Property Details</h3>
                            <div class="form-grid">
                                <div class="form-group">
                                    <label for="location">
                                        <i class="fas fa-map-marker-alt"></i>
                                        Location
                                    </label>
                                    <div class="select-wrapper">
                                        <select id="location" required>
                                            <option value="">Loading locations...</option>
                                        </select>
                                        <i class="fas fa-chevron-down"></i>
                                    </div>
                                    <small class="form-help">Select the area/locality in Bangalore</small>
                                </div>

                                <div class="form-group">
                                    <label for="sqft">
                                        <i class="fas fa-ruler-combined"></i>
                                        Total Area (sq ft)
                                    </label>
                                    <input type="number" id="sqft" min="300" max="20000" step="50" placeholder="e.g., 1200" required>
                                    <small class="form-help">Enter total built-up area</small>
                                </div>

                                <div class="form-group">
                                    <label for="bhk">
                                        <i class="fas fa-bed"></i>
                                        Configuration (BHK)
                                    </label>
                                    <div class="select-wrapper">
                                        <select id="bhk" required>
                                            <option value="">Select BHK</option>
                                            <option value="1">1 BHK</option>
                                            <option value="2">2 BHK</option>
                                            <option value="3">3 BHK</option>
                                            <option value="4">4 BHK</option>
                                            <option value="5">5 BHK</option>
                                            <option value="6">6+ BHK</option>
                                        </select>
                                        <i class="fas fa-chevron-down"></i>
                                    </div>
                                    <small class="form-help">Number of bedrooms</small>
                                </div>

                                <div class="form-group">
                                    <label for="bathrooms">
                                        <i class="fas fa-bath"></i>
                                        Bathrooms
                                    </label>
                                    <div class="select-wrapper">
                                        <select id="bathrooms" required>
                                            <option value="">Select Bathrooms</option>
                                            <option value="1">1 Bathroom</option>
                                            <option value="2">2 Bathrooms</option>
                                            <option value="3">3 Bathrooms</option>
                                            <option value="4">4 Bathrooms</option>
                                            <option value="5">5+ Bathrooms</option>
                                        </select>
                                        <i class="fas fa-chevron-down"></i>
                                    </div>
                                    <small class="form-help">Number of bathrooms</small>
                                </div>
                            </div>
                        </div>

                        <button type="submit" class="predict-btn">
                            <i class="fas fa-magic"></i>
                            <span>Predict Price</span>
                            <div class="btn-overlay"></div>
                        </button>
                    </form>

                    <!-- Error Container -->
                    <div id="errorContainer" class="error-container">
                        <i class="fas fa-exclamation-triangle"></i>
                        <div>
                            <strong>Error</strong>
                            <p id="errorMessage"></p>
                        </div>
                    </div>

                    <!-- Results -->
                    <div id="result" class="result-container">
                        <div class="result-header">
                            <h3>Price Prediction</h3>
                            <div class="confidence-badge">
                                <i class="fas fa-check-circle"></i>
                                High Confidence
                            </div>
                        </div>
                        
                        <div class="result-price">
                            <span class="currency">₹</span>
                            <span id="predicted-price">0</span>
                            <span class="unit">Lakhs</span>
                        </div>
                        
                        <div class="result-details">
                            <div class="detail-item">
                                <i class="fas fa-map-marker-alt"></i>
                                <div>
                                    <label>Location</label>
                                    <span id="resultLocation">-</span>
                                </div>
                            </div>
                            <div class="detail-item">
                                <i class="fas fa-ruler-combined"></i>
                                <div>
                                    <label>Area</label>
                                    <span id="resultSqft">-</span>
                                </div>
                            </div>
                            <div class="detail-item">
                                <i class="fas fa-home"></i>
                                <div>
                                    <label>Configuration</label>
                                    <span id="resultBhk">-</span>
                                </div>
                            </div>
                            <div class="detail-item">
                                <i class="fas fa-calculator"></i>
                                <div>
                                    <label>Price per sq ft</label>
                                    <span>₹<span id="resultPricePerSqft">-</span></span>
                                </div>
                            </div>
                        </div>

                        <div class="result-actions">
                            <button class="action-btn secondary" onclick="window.print()">
                                <i class="fas fa-print"></i>
                                Print Report
                            </button>
                            <button class="action-btn primary" onclick="shareResult()">
                                <i class="fas fa-share"></i>
                                Share Result
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact/Portfolio Section -->
    <section id="contact" class="contact-section">
        <div class="container">
            <div class="contact-content">
                <div class="contact-info">
                    <h3>About the Developer</h3>
                    <p>Built with ❤️ by <strong>Vikas Sharma</strong></p>
                    <p>Full Stack Developer passionate about AI and Machine Learning</p>
                    
                    <div class="contact-links">
                        <a href="https://vikas-portfolio-chi.vercel.app/" target="_blank" class="contact-link portfolio">
                            <i class="fas fa-globe"></i>
                            <span>Portfolio</span>
                        </a>
                        <a href="https://github.com/Its-Vikas-xd" target="_blank" class="contact-link github">
                            <i class="fab fa-github"></i>
                            <span>GitHub</span>
                        </a>
                        <a href="https://www.linkedin.com/in/vikas-sharma-493115361/" target="_blank" class="contact-link linkedin">
                            <i class="fab fa-linkedin"></i>
                            <span>LinkedIn</span>
                        </a>
                    </div>
                </div>
                
                <div class="contact-visual">
                    <div class="tech-orbit">
                        <div class="orbit-center">
                            <i class="fas fa-code"></i>
                        </div>
                        <div class="orbit-item" style="--delay: 0s;">
                            <i class="fab fa-python"></i>
                        </div>
                        <div class="orbit-item" style="--delay: 1s;">
                            <i class="fas fa-brain"></i>
                        </div>
                        <div class="orbit-item" style="--delay: 2s;">
                            <i class="fab fa-js"></i>
                        </div>
                        <div class="orbit-item" style="--delay: 3s;">
                            <i class="fas fa-database"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>Bangalore Home Price Predictor</h4>
                    <p>AI-powered property valuation for Bangalore real estate market</p>
                </div>
                <div class="footer-section">
                    <h4>Technology</h4>
                    <p>Built with Flask, scikit-learn, and modern web technologies</p>
                </div>
                <div class="footer-section">
                    <h4>Contact</h4>
                    <p>Connect with the developer on social media</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Vikas Sharma. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>


// API Configuration - Keep the same Flask connection
const API_BASE_URL = 'http://localhost:5000';

// Global variables
let apiConnected = false;
let availableLocations = [];

// Initialize the application
async function initializeApp() {
    await checkApiConnection();
    if (apiConnected) {
        await loadLocations();
    }
    initializeEventListeners();
    initializeAnimations();
}

// Navigation functionality
function initializeEventListeners() {
    // Smooth scrolling for navigation links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                const headerOffset = 80;
                const elementPosition = target.getBoundingClientRect().top;
                const offsetPosition = elementPosition + window.pageYOffset - headerOffset;

                window.scrollTo({
                    top: offsetPosition,
                    behavior: 'smooth'
                });
            }
        });
    });

    // Mobile navigation toggle
    const navToggle = document.getElementById('navToggle');
    const navLinks = document.querySelector('.nav-links');
    
    if (navToggle) {
        navToggle.addEventListener('click', () => {
            navLinks.classList.toggle('active');
        });
    }

    // Form validation enhancements
    const sqftInput = document.getElementById('sqft');
    const bhkSelect = document.getElementById('bhk');
    
    if (sqftInput) {
        sqftInput.addEventListener('input', validateSquareFootage);
    }
    
    if (bhkSelect) {
        bhkSelect.addEventListener('change', autoSuggestBathrooms);
    }

    // Add loading states to buttons
    const predictBtn = document.querySelector('.predict-btn');
    if (predictBtn) {
        predictBtn.addEventListener('click', addButtonLoadingState);
    }
}

// Initialize animations and scroll effects
function initializeAnimations() {
    // Intersection Observer for fade-in animations
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.opacity = '1';
                entry.target.style.transform = 'translateY(0)';
            }
        });
    }, observerOptions);

    // Observe sections for scroll animations
    document.querySelectorAll('.about-section, .predictor-section, .contact-section').forEach(section => {
        section.style.opacity = '0';
        section.style.transform = 'translateY(30px)';
        section.style.transition = 'opacity 0.8s ease, transform 0.8s ease';
        observer.observe(section);
    });

    // Navbar scroll effect
    window.addEventListener('scroll', () => {
        const navbar = document.querySelector('.navbar');
        if (window.scrollY > 50) {
            navbar.style.background = 'rgba(255, 255, 255, 0.98)';
            navbar.style.boxShadow = '0 2px 20px rgba(0, 0, 0, 0.1)';
        } else {
            navbar.style.background = 'rgba(255, 255, 255, 0.95)';
            navbar.style.boxShadow = 'none';
        }
    });
}

// Enhanced API connection check with retry mechanism
async function checkApiConnection() {
    const maxRetries = 3;
    let retryCount = 0;
    
    while (retryCount < maxRetries) {
        try {
            const controller = new AbortController();
            const timeoutId = setTimeout(() => controller.abort(), 5000);
            
            const response = await fetch(`${API_BASE_URL}/health`, {
                method: 'GET',
                signal: controller.signal
            });
            
            clearTimeout(timeoutId);
            
            if (response.ok) {
                const data = await response.json();
                apiConnected = data.status === 'healthy' && data.model_loaded;
                updateApiStatus(true);
                return;
            } else {
                throw new Error(`HTTP ${response.status}`);
            }
        } catch (error) {
            console.warn(`API connection attempt ${retryCount + 1} failed:`, error.message);
            retryCount++;
            
            if (retryCount < maxRetries) {
                await new Promise(resolve => setTimeout(resolve, 2000)); // Wait 2 seconds before retry
            }
        }
    }
    
    apiConnected = false;
    updateApiStatus(false);
}

// Enhanced API status indicator
function updateApiStatus(connected) {
    const statusElement = document.getElementById('apiStatus');
    if (!statusElement) return;
    
    if (connected) {
        statusElement.className = 'api-status connected';
        statusElement.innerHTML = `
            <i class="fas fa-circle"></i>
            <span>🟢 Connected to Flask API - Model Ready</span>
        `;
    } else {
        statusElement.className = 'api-status disconnected';
        statusElement.innerHTML = `
            <i class="fas fa-circle"></i>
            <span>🔴 Flask API unavailable - Using fallback predictions</span>
        `;
    }
}

// Load locations with caching
async function loadLocations() {
    try {
        // Check if locations are cached
        const cachedLocations = sessionStorage.getItem('bangaloreLocations');
        if (cachedLocations) {
            availableLocations = JSON.parse(cachedLocations);
            populateLocationDropdown(availableLocations);
            return;
        }

        const response = await fetch(`${API_BASE_URL}/get_location_names`);
        if (response.ok) {
            const data = await response.json();
            availableLocations = data.locations;
            // Cache locations for this session
            sessionStorage.setItem('bangaloreLocations', JSON.stringify(availableLocations));
            populateLocationDropdown(data.locations);
        } else {
            throw new Error('Failed to fetch locations');
        }
    } catch (error) {
        console.error('Failed to load locations:', error);
        loadFallbackLocations();
    }
}

// Enhanced location dropdown with search functionality
function populateLocationDropdown(locations) {
    const locationSelect = document.getElementById('location');
    if (!locationSelect) return;
    
    locationSelect.innerHTML = '<option value="">Select Location</option>';
    
    // Sort locations alphabetically
    const sortedLocations = locations.sort();
    
    sortedLocations.forEach(location => {
        const option = document.createElement('option');
        option.value = location.toLowerCase();
        option.textContent = location;
        locationSelect.appendChild(option);
    });

    // Add search functionality to location dropdown
    addLocationSearch(locationSelect, sortedLocations);
}

// Add search functionality to location dropdown
function addLocationSearch(selectElement, locations) {
    const wrapper = selectElement.parentElement;
    const searchInput = document.createElement('input');
    searchInput.type = 'text';
    searchInput.placeholder = 'Search location...';
    searchInput.className = 'location-search';
    searchInput.style.display = 'none';
    
    // Style the search input
    Object.assign(searchInput.style, {
        width: '100%',
        padding: '16px 18px',
        border: '2px solid #e2e8f0',
        borderRadius: '12px',
        fontSize: '1rem',
        marginBottom: '8px'
    });

    wrapper.insertBefore(searchInput, selectElement);

    // Toggle search input visibility
    selectElement.addEventListener('focus', () => {
        searchInput.style.display = 'block';
        searchInput.focus();
    });

    // Filter locations based on search
    searchInput.addEventListener('input', (e) => {
        const searchTerm = e.target.value.toLowerCase();
        const filteredLocations = locations.filter(location => 
            location.toLowerCase().includes(searchTerm)
        );
        
        selectElement.innerHTML = '<option value="">Select Location</option>';
        filteredLocations.forEach(location => {
            const option = document.createElement('option');
            option.value = location.toLowerCase();
            option.textContent = location;
            selectElement.appendChild(option);
        });
    });

    // Hide search when clicking outside
    document.addEventListener('click', (e) => {
        if (!wrapper.contains(e.target)) {
            searchInput.style.display = 'none';
        }
    });
}

// Enhanced fallback locations
function loadFallbackLocations() {
    const fallbackLocations = [
        "1st Block Jayanagar", "1st Phase JP Nagar", "2nd Phase Judicial Layout", 
        "5th Phase JP Nagar", "6th Phase JP Nagar", "7th Phase JP Nagar",
        "8th Phase JP Nagar", "9th Phase JP Nagar", "Adarsh Palm Retreat",
        "Akshaya Nagar", "Ambalipura", "Ambedkar Nagar", "Anandapura",
        "Ananth Nagar", "Anekal", "Anjanapura", "Ardendale", "Arekere",
        "Attibele", "AECS Layout", "Banaswadi", "Banashankari", "Banashankari Stage II",
        "Banashankari Stage III", "Banashankari Stage V", "Banashankari Stage VI",
        "Banjara Layout", "Bannerghatta", "Bannerghatta Road", "Basavanagudi",
        "Basaveshwara Nagar", "Battarahalli", "Begur", "Begur Road",
        "Behind Cluny School Road", "Bel Road", "Bellandur", "Bellandur Road",
        "Bennigana Halli", "Benson Town", "Bharathi Nagar", "Bhoganhalli",
        "Billekahalli", "Binny Pete", "Bisuvanahalli", "Bommanahalli",
        "Bommenahalli", "Brookefield", "BTM 2nd Stage", "BTM Layout",
        "Budigere", "CV Raman Nagar", "Chamrajpet", "Chandapura",
        "Channasandra", "Chikka Tirupathi", "Chikkalasandra", "Chikkabanavar",
        "Chikkabanavara", "Choodasandra", "Cooke Town", "Cox Town",
        "Cunningham Road", "Dasanapura", "Dasarahalli", "Devanahalli",
        "Devarachikkanahalli", "Dodda Nekkundi", "Doddaballapur", "Doddakallasandra",
        "Doddathoguru", "Electronic City", "Electronic City Phase II",
        "Electronics City Phase 1", "Frazer Town", "GM Palaya", "Garudachar Palya",
        "Giri Nagar", "Gollarapalya Hosahalli", "Gottigere", "Green Glen Layout",
        "Gubbalala", "Gunjur", "HBR Layout", "HRBR Layout", "HSR Layout",
        "Haralur Road", "Harlur", "Hebbal", "Hebbal Kempapura", "Hegde Nagar",
        "Hennur", "Hennur Road", "Hoodi", "Hosa Road", "Hosakerehalli",
        "Hoskote", "Hulimavu", "Indira Nagar", "Iblur Village", "Isro Layout",
        "JP Nagar", "Jakkur", "Jalahalli", "Jalahalli East", "Jigani",
        "Judicial Layout", "KR Puram", "Kadubeesanahalli", "Kadugodi",
        "Kalena Agrahara", "Kalyan nagar", "Kambipura", "Kammanahalli",
        "Kanakpura Road", "Kannamangala", "Kasavanhalli", "Kasturi Nagar",
        "Kathriguppe", "Kaval Byrasandra", "Kenchenahalli", "Kengeri",
        "Kengeri Satellite Town", "Kereguddadahalli", "Kodichikkanahalli",
        "Kodigehaali", "Kodihalli", "Kogilu", "Konanakunte", "Koramangala",
        "Kothannur", "Kothanur", "Kudlu", "Kudlu Gate", "Kumaraswami Layout",
        "Kundalahalli", "LB Shastri Nagar", "Laggere", "Lakshminarayana Pura",
        "Lingadheeranahalli", "Magadi Road", "Mahadevpura", "Mahalakshmi Layout",
        "Mallasandra", "Malleshpalya", "Malleshwaram", "Marathahalli",
        "Margondanahalli", "Mathikere", "Mico Layout", "Munnekollal",
        "Mysore Road", "NGR Layout", "Nagarbhavi", "Nagasandra", "Nagavara",
        "Narayanapura", "Neeladri Nagar", "OMBR Layout", "Old Airport Road",
        "Old Madras Road", "Padmanabhanagar", "Pai Layout", "Panathur",
        "Parappana Agrahara", "Pattandur Agrahara", "Poorna Pragna Layout",
        "Prithvi Layout", "R.T. Nagar", "Rachenahalli", "Raja Rajeshwari Nagar",
        "Rajaji Nagar", "Ramagondanahalli", "Ramamurthy Nagar", "Rayasandra",
        "Richmond Road", "Riddhi Siddhi Layout", "Sahakara Nagar", "Sanjay nagar",
        "Sarjapur", "Sarjapur Road", "Sector 2 HSR Layout", "Sector 7 HSR Layout",
        "Seegehalli", "Shampura", "Shanti Nagar", "Shivaji Nagar", "Singasandra",
        "Somasundara Palya", "Sompura", "St. Thomas Town", "Subramanyapura",
        "Sultanpalaya", "TC Palaya", "Talaghattapura", "Thanisandra", "Thigalarapalya",
        "Thubarahalli", "Tindlu", "Tumkur Road", "Ulsoor", "Uttarahalli",
        "Varthur", "Varthur Road", "Vasanthapura", "Vidyaranyapura", "Vijayanagar",
        "Vittasandra", "Wandegeya", "Whitefield", "Yelachenahalli", "Yelahanka",
        "Yelahanka New Town", "Yelenahalli", "Yeshwanthpur"
    ];
    populateLocationDropdown(fallbackLocations);
}

// Enhanced form validation
function validateSquareFootage() {
    const sqftInput = document.getElementById('sqft');
    const bhkSelect = document.getElementById('bhk');
    
    if (!sqftInput || !bhkSelect) return;
    
    const sqft = parseFloat(sqftInput.value);
    const bhk = parseInt(bhkSelect.value);
    
    // Clear previous custom validity
    sqftInput.setCustomValidity('');
    
    if (sqft && bhk) {
        const sqftPerBhk = sqft / bhk;
        
        if (sqftPerBhk < 200) {
            sqftInput.setCustomValidity('Area per BHK seems too small (minimum 200 sq ft per BHK recommended)');
            showValidationTooltip(sqftInput, 'Area per BHK is too small');
        } else if (sqftPerBhk > 2000) {
            sqftInput.setCustomValidity('Area per BHK seems unusually large');
            showValidationTooltip(sqftInput, 'Area per BHK is very large');
        } else {
            hideValidationTooltip(sqftInput);
        }
    }
}

// Auto-suggest reasonable bathroom count
function autoSuggestBathrooms() {
    const bhkSelect = document.getElementById('bhk');
    const bathroomsSelect = document.getElementById('bathrooms');
    
    if (!bhkSelect || !bathroomsSelect) return;
    
    const bhk = parseInt(bhkSelect.value);
    const currentBathrooms = parseInt(bathroomsSelect.value);
    
    if (bhk && (!currentBathrooms || currentBathrooms > bhk + 2)) {
        const suggestedBathrooms = Math.min(bhk + 1, 5);
        bathroomsSelect.value = suggestedBathrooms.toString();
        
        // Show suggestion notification
        showNotification(`Suggested ${suggestedBathrooms} bathrooms for ${bhk} BHK`, 'info');
    }
}

// Enhanced validation tooltips
function showValidationTooltip(element, message) {
    hideValidationTooltip(element); // Remove any existing tooltip
    
    const tooltip = document.createElement('div');
    tooltip.className = 'validation-tooltip';
    tooltip.textContent = message;
    
    // Style the tooltip
    Object.assign(tooltip.style, {
        position: 'absolute',
        top: '100%',
        left: '0',
        background: '#fee2e2',
        color: '#dc2626',
        padding: '8px 12px',
        borderRadius: '6px',
        fontSize: '0.875rem',
        marginTop: '4px',
        zIndex: '1000',
        border: '1px solid #fecaca',
        boxShadow: '0 2px 4px rgba(0,0,0,0.1)'
    });
    
    element.parentElement.style.position = 'relative';
    element.parentElement.appendChild(tooltip);
    
    // Auto-hide after 3 seconds
    setTimeout(() => hideValidationTooltip(element), 3000);
}

function hideValidationTooltip(element) {
    const tooltip = element.parentElement.querySelector('.validation-tooltip');
    if (tooltip) {
        tooltip.remove();
    }
}

// Enhanced notification system
function showNotification(message, type = 'info', duration = 3000) {
    const notification = document.createElement('div');
    notification.className = `notification notification-${type}`;
    notification.innerHTML = `
        <i class="fas fa-${type === 'info' ? 'info-circle' : type === 'success' ? 'check-circle' : 'exclamation-triangle'}"></i>
        <span>${message}</span>
        <button class="notification-close">&times;</button>
    `;
    
    // Style the notification
    Object.assign(notification.style, {
        position: 'fixed',
        top: '100px',
        right: '20px',
        background: type === 'info' ? '#dbeafe' : type === 'success' ? '#d1fae5' : '#fee2e2',
        color: type === 'info' ? '#1e40af' : type === 'success' ? '#065f46' : '#dc2626',
        padding: '16px 20px',
        borderRadius: '12px',
        boxShadow: '0 10px 25px rgba(0,0,0,0.1)',
        zIndex: '10000',
        display: 'flex',
        alignItems: 'center',
        gap: '12px',
        minWidth: '300px',
        border: `1px solid ${type === 'info' ? '#93c5fd' : type === 'success' ? '#a7f3d0' : '#fecaca'}`,
        animation: 'slideInRight 0.3s ease'
    });
    
    document.body.appendChild(notification);
    
    // Close button functionality
    const closeBtn = notification.querySelector('.notification-close');
    closeBtn.style.cssText = 'background: none; border: none; font-size: 1.2rem; cursor: pointer; padding: 0; margin-left: auto;';
    closeBtn.addEventListener('click', () => {
        notification.style.animation = 'slideOutRight 0.3s ease';
        setTimeout(() => notification.remove(), 300);
    });
    
    // Auto-hide
    setTimeout(() => {
        if (notification.parentElement) {
            notification.style.animation = 'slideOutRight 0.3s ease';
            setTimeout(() => notification.remove(), 300);
        }
    }, duration);
}

// Add CSS for notification animations
const notificationStyles = `
    @keyframes slideInRight {
        from { transform: translateX(100%); opacity: 0; }
        to { transform: translateX(0); opacity: 1; }
    }
    @keyframes slideOutRight {
        from { transform: translateX(0); opacity: 1; }
        to { transform: translateX(100%); opacity: 0; }
    }
`;

// Inject notification styles
const styleSheet = document.createElement('style');
styleSheet.textContent = notificationStyles;
document.head.appendChild(styleSheet);

// Enhanced loading states
function showLoading() {
    const loadingOverlay = document.getElementById('loadingOverlay');
    if (loadingOverlay) {
        loadingOverlay.style.display = 'flex';
        document.body.style.overflow = 'hidden';
    }
}

function hideLoading() {
    const loadingOverlay = document.getElementById('loadingOverlay');
    if (loadingOverlay) {
        loadingOverlay.style.display = 'none';
        document.body.style.overflow = 'auto';
    }
}

// Enhanced error handling
function showError(message) {
    const errorContainer = document.getElementById('errorContainer');
    const errorMessage = document.getElementById('errorMessage');
    const resultContainer = document.getElementById('result');
    
    if (errorMessage && errorContainer) {
        errorMessage.textContent = message;
        errorContainer.classList.add('show');
        
        // Hide result if showing
        if (resultContainer) {
            resultContainer.classList.remove('show');
        }
        
        // Auto-hide error after 10 seconds
        setTimeout(() => {
            hideError();
        }, 10000);
    }
}

function hideError() {
    const errorContainer = document.getElementById('errorContainer');
    if (errorContainer) {
        errorContainer.classList.remove('show');
    }
}

// Enhanced prediction with better error handling
async function predictPrice(location, sqft, bathrooms, bhk) {
    if (!apiConnected) {
        showNotification('Using offline prediction model', 'info');
        return fallbackPrediction(location, sqft, bathrooms, bhk);
    }

    try {
        const controller = new AbortController();
        const timeoutId = setTimeout(() => controller.abort(), 15000); // 15 second timeout
        
        const response = await fetch(`${API_BASE_URL}/predict_home_price`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({
                location: location,
                total_sqft: parseFloat(sqft),
                bhk: parseInt(bhk),
                bath: parseInt(bathrooms)
            }),
            signal: controller.signal
        });
        
        clearTimeout(timeoutId);
        
        if (!response.ok) {
            const errorData = await response.json().catch(() => ({}));
            throw new Error(errorData.error || `Server error: ${response.status}`);
        }
        
        const data = await response.json();
        
        showNotification('Prediction completed successfully!', 'success');
        
        return {
            success: true,
            price: data.estimated_price,
            pricePerSqft: data.price_per_sqft,
            location: data.location,
            sqft: data.total_sqft,
            bhk: data.bhk
        };
        
    } catch (error) {
        console.error('API Error:', error);
        
        if (error.name === 'AbortError') {
            throw new Error('Request timeout. Please try again.');
        }
        
        // Fallback to offline prediction on API failure
        showNotification('API unavailable, using offline prediction', 'info');
        return fallbackPrediction(location, sqft, bathrooms, bhk);
    }
}

// Enhanced fallback prediction with more sophisticated logic
function fallbackPrediction(location, sqft, bathrooms, bhk) {
    const locationMultipliers = {
        // Premium locations
        'koramangala': 2.8, 'indiranagar': 2.6, 'whitefield': 2.4,
        'electronic city': 2.2, 'hsr layout': 2.5, 'btm layout': 2.0,
        '1st block jayanagar': 2.3, 'malleshwaram': 2.1, 'rajajinagar': 1.9,
        
        // Mid-tier locations  
        'jp nagar': 1.8, 'banashankari': 1.7, 'basavanagudi': 1.9,
        'hebbal': 1.6, 'marathahalli': 1.8, 'sarjapur road': 1.7,
        'bellandur': 2.0, 'sarjapur': 1.6, 'electronic city phase ii': 1.9,
        
        // Emerging locations
        'yelahanka': 1.4, 'thanisandra': 1.3, 'kengeri': 1.2,
        'nagarbhavi': 1.3, 'uttarahalli': 1.2, 'ramamurthy nagar': 1.4,
        
        // Default multiplier
        'other': 1.0
    };
    
    const normalizedLocation = location.toLowerCase().trim();
    let multiplier = locationMultipliers[normalizedLocation] || 1.0;
    
    // Enhanced partial matching for better location recognition
    if (multiplier === 1.0) {
        for (const [key, value] of Object.entries(locationMultipliers)) {
            if (key !== 'other') {
                const keyWords = key.split(' ');
                const locationWords = normalizedLocation.split(' ');
                
                // Check for partial matches
                const hasMatch = keyWords.some(keyWord => 
                    locationWords.some(locWord => 
                        locWord.includes(keyWord) || keyWord.includes(locWord)
                    )
                );
                
                if (hasMatch) {
                    multiplier = value * 0.9; // Slightly lower for partial matches
                    break;
                }
            }
        }
    }
    
    // Base price calculation with market trends
    const currentYear = new Date().getFullYear();
    const basePrice = 3200 + (currentYear - 2024) * 150; // Account for yearly price increases
    const locationPrice = basePrice + (multiplier - 1) * 2200;
    
    let totalPrice = (sqft * locationPrice) / 100000;
    
    // BHK-based multipliers with more nuanced pricing
    const bhkMultipliers = {
        1: 0.85, 2: 1.0, 3: 1.15, 4: 1.35, 5: 1.6, 6: 1.8
    };
    totalPrice *= bhkMultipliers[bhk] || (1.0 + (bhk - 2) * 0.15);
    
    // Bathroom optimization factor
    const optimalBathrooms = Math.max(1, Math.min(bhk + 1, 5));
    if (bathrooms === optimalBathrooms) {
        totalPrice *= 1.05; // 5% premium for optimal bathroom count
    } else if (bathrooms > bhk + 2) {
        totalPrice *= 1.08; // Premium for luxury bathrooms
    } else if (bathrooms < Math.max(1, bhk - 1)) {
        totalPrice *= 0.93; // Discount for insufficient bathrooms
    }
    
    // Size efficiency factor
    const sqftPerBhk = sqft / bhk;
    if (sqftPerBhk > 800) {
        totalPrice *= 1.1; // Premium for spacious rooms
    } else if (sqftPerBhk < 300) {
        totalPrice *= 0.9; // Discount for cramped spaces
    }
    
    // Add realistic market variance
    const variance = (Math.random() - 0.5) * 0.12;
    totalPrice *= (1 + variance);
    
    // Ensure reasonable bounds
    totalPrice = Math.max(totalPrice, sqft * 2000 / 100000); // Minimum price floor
    totalPrice = Math.min(totalPrice, sqft * 15000 / 100000); // Maximum price ceiling
    
    return {
        success: true,
        price: Math.round(totalPrice * 100) / 100,
        pricePerSqft: Math.round((totalPrice * 100000) / sqft),
        location: location,
        sqft: sqft,
        bhk: bhk
    };
}

// Enhanced result display with animations
function displayResult(result) {
    const elements = {
        price: document.getElementById('predicted-price'),
        location: document.getElementById('resultLocation'),
        sqft: document.getElementById('resultSqft'),
        bhk: document.getElementById('resultBhk'),
        pricePerSqft: document.getElementById('resultPricePerSqft'),
        container: document.getElementById('result')
    };
    
    // Animate price counting up
    if (elements.price) {
        animateValue(elements.price, 0, result.price, 1500);
    }
    
    // Update other elements
    if (elements.location) elements.location.textContent = result.location;
    if (elements.sqft) elements.sqft.textContent = result.sqft.toLocaleString('en-IN') + ' sq ft';
    if (elements.bhk) elements.bhk.textContent = result.bhk + ' BHK';
    if (elements.pricePerSqft) elements.pricePerSqft.textContent = result.pricePerSqft.toLocaleString('en-IN');
    
    // Show result container with animation
    if (elements.container) {
        elements.container.classList.add('show');
        elements.container.scrollIntoView({ 
            behavior: 'smooth',
            block: 'center'
        });
    }
}

// Animate number counting
function animateValue(element, start, end, duration) {
    const range = end - start;
    const minTimer = 50;
    let stepTime = Math.abs(Math.floor(duration / range));
    
    stepTime = Math.max(stepTime, minTimer);
    
    const startTime = new Date().getTime();
    const endTime = startTime + duration;
    
    function run() {
        const now = new Date().getTime();
        const remaining = Math.max((endTime - now) / duration, 0);
        const value = Math.round(end - (remaining * range));
        
        element.textContent = value.toLocaleString('en-IN');
        
        if (value !== end) {
            requestAnimationFrame(run);
        }
    }
    
    run();
}

// Enhanced form submission with comprehensive validation
document.addEventListener('DOMContentLoaded', function() {
    const priceForm = document.getElementById('priceForm');
    
    if (priceForm) {
        priceForm.addEventListener('submit', async function(e) {
            e.preventDefault();
            
            hideError();
            
            // Get form values
            const location = document.getElementById('location').value;
            const sqft = parseFloat(document.getElementById('sqft').value);
            const bathrooms = parseInt(document.getElementById('bathrooms').value);
            const bhk = parseInt(document.getElementById('bhk').value);
            
            // Comprehensive validation
            const validationErrors = [];
            
            if (!location) validationErrors.push('Please select a location');
            if (!sqft || sqft < 300) validationErrors.push('Square footage must be at least 300 sq ft');
            if (sqft > 20000) validationErrors.push('Square footage cannot exceed 20,000 sq ft');
            if (!bathrooms) validationErrors.push('Please select number of bathrooms');
            if (!bhk) validationErrors.push('Please select BHK configuration');
            
            // Advanced validations
            if (sqft && bhk && sqft / bhk < 150) {
                validationErrors.push('Square footage per BHK is too low (minimum 150 sq ft per BHK)');
            }
            if (bathrooms && bhk && bathrooms > bhk + 3) {
                validationErrors.push('Number of bathrooms seems excessive for the BHK configuration');
            }
            
            if (validationErrors.length > 0) {
                showError(validationErrors.join('; '));
                return;
            }
            
            const predictBtn = document.querySelector('.predict-btn');
            const originalContent = predictBtn.innerHTML;
            
            try {
                // Update button state
                predictBtn.innerHTML = `
                    <i class="fas fa-spinner fa-spin"></i>
                    <span>Analyzing Property...</span>
                `;
                predictBtn.disabled = true;
                
                showLoading();
                
                // Add realistic delay for better UX
                await new Promise(resolve => setTimeout(resolve, 800));
                
                const result = await predictPrice(location, sqft, bathrooms, bhk);
                displayResult(result);
                
                // Track successful prediction
                if (typeof gtag !== 'undefined') {
                    gtag('event', 'prediction_completed', {
                        'location': location,
                        'bhk': bhk,
                        'sqft': sqft
                    });
                }
                
            } catch (error) {
                console.error('Prediction error:', error);
                showError(`Prediction failed: ${error.message}`);
            } finally {
                hideLoading();
                
                setTimeout(() => {
                    predictBtn.innerHTML = originalContent;
                    predictBtn.disabled = false;
                }, 500);
            }
        });
    }
});

// Share functionality
function shareResult() {
    const priceElement = document.getElementById('predicted-price');
    const locationElement = document.getElementById('resultLocation');
    const sqftElement = document.getElementById('resultSqft');
    const bhkElement = document.getElementById('resultBhk');
    
    if (priceElement && locationElement) {
        const shareText = `🏠 Property Prediction Result:
Location: ${locationElement.textContent}
Configuration: ${bhkElement?.textContent || 'N/A'}
Area: ${sqftElement?.textContent || 'N/A'}
Estimated Price: ₹${priceElement.textContent} Lakhs

Generated by Bangalore Home Price Predictor
${window.location.href}`;
        
        if (navigator.share) {
            navigator.share({
                title: 'Property Price Prediction',
                text: shareText,
                url: window.location.href
            }).catch(console.error);
        } else {
            // Fallback to clipboard
            navigator.clipboard.writeText(shareText).then(() => {
                showNotification('Result copied to clipboard!', 'success');
            }).catch(() => {
                showNotification('Unable to copy result', 'info');
            });
        }
    }
}

// Periodic API health check
let healthCheckInterval;

function startHealthCheck() {
    healthCheckInterval = setInterval(async () => {
        if (!apiConnected) {
            await checkApiConnection();
            if (apiConnected && !availableLocations.length) {
                await loadLocations();
            }
        }
    }, 45000); // Check every 45 seconds
}

function stopHealthCheck() {
    if (healthCheckInterval) {
        clearInterval(healthCheckInterval);
    }
}

// Page visibility handling
document.addEventListener('visibilitychange', function() {
    if (document.hidden) {
        stopHealthCheck();
    } else {
        startHealthCheck();
    }
});

// Initialize everything when DOM is loaded
document.addEventListener('DOMContentLoaded', function() {
    initializeApp();
    startHealthCheck();
});

// Cleanup on page unload
window.addEventListener('beforeunload', function() {
    stopHealthCheck();
});
    </script>
</body>
</html>